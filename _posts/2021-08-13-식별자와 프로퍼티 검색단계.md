# **프로토타입 체인과 스코프체인의 연계성**

![javasciprt](https://img.shields.io/badge/javascript-up%20to%20date-yellow)

![typescript](https://img.shields.io/badge/typescript-up%20to%20date-blue)

---

예를 들어

```js
const obj2 = {name:"hi", hello(){console.log("hello")}}

function outer (){
    const obj1 = {name:"hello",  hello(){console.log("hi")}}

    obj2.hello();
}

함수 outer 안에서 obj의 hello 메소드를 실행한다고 하자.

그러면 자바스크립트 엔진이 검색하는 순서는 이러하다

1. obj라는 식별자가 어디있는지를 "스코프" 체인을 통해 찾는다.
(참고로, 이 스코프 체인은 함수가 평가되어 물리적인 객체환경을 만들 때, 즉 실행 컨텍스트 정보를 만들어 메모리를 저장할때에 생겨난다. *자신이 있는 위치를 기준으로 렉시컬한 스코프를 설정한다고 해도 맞다고 봐도 될 듯 하다*)

2. 스코프 체인은 배열과 같다고 봐도 무방하다. 즉, 가장 처음에 자기 자신의 위치를 넣어두고, 그 뒤로 마치 스텍처럼 바깥의 스코프, 그 바깥의 스코프... 계속 그렇게 넣어진 스코프의 체인 가운데에서 찾으려는 obj2라는 식별자를 찾는다.

3. 전역에서 해당 식별자를 찾았으므로,(저 식별자는 참고로 데이터 저장을 위해 확보된 메모리공간의 주소 이름을 마치 DNS 처럼 네이밍해둔것과 같다) 그 안에 있는 내용물을 가지고 살펴본다. 해당 내용물은 객체다.

4. 자 이제 객체에서 hello라고 하는 메소드를 찾고 있다. 그렇다면 이제 이 메소드를 객체 내부에서 찾는다. 만약 찾지 못했으면, 숨겨져있는 프로토타입 슬롯에 저장된 객체에서 찾는다. 거기서 못찾았으면, 그 객체의 프로토타입 슬롯에 들어있는 객체정보에서 찾는다.
```

이처럼, 스코프체인을 통해서 식별자를 찾고
프로토타입 체인을 통해 프로퍼티를 찾는 연관관계를 갖고있다.
